!function(e){var t={};function o(l){if(t[l])return t[l].exports;var r=t[l]={i:l,l:!1,exports:{}};return e[l].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,l){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(l,r,function(t){return e[t]}.bind(null,r));return l},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);var l={createProject:class{constructor(){this.name=document.querySelector(".name").value,this.todos=[]}},createTodo:class{constructor(){this.name=document.querySelector(".todoName").value,this.dueDate=document.querySelector(".dueDate").value,this.priority=document.querySelector(".priority").value,this.text=""}},allProjects:[],lastProject:null,lastTodo:null};const r=(()=>{const e=document.querySelector("#projectFormBG"),t=document.querySelector("#todoFormBG"),o=document.querySelector("#indivPCont"),n=document.querySelector("#indivTodoCont"),s=document.querySelector("#todoCont"),c=document.querySelector("#projectName"),a=document.querySelector("#projectDate"),i=document.querySelector("#projectPriority"),d=document.querySelector("#textArea"),u=document.querySelector("#editProject"),m=document.querySelector("#toggle"),y=document.querySelector("#toggleRight"),v=document.querySelector("#projectPCont"),h=document.querySelector("#todoPCont");let p=new Date,j=String(p.getDate()).padStart(2,"0"),P=String(p.getMonth()+1).padStart(2,"0"),S=p.getFullYear();return p=S+"-"+P+"-"+j,document.querySelector(".dueDate").min=p,{showProjectForm:function(){"hidden"==e.style.visibility?e.style.visibility="visible":e.style.visibility="hidden"},showTodoForm:function(){"hidden"==t.style.visibility?t.style.visibility="visible":t.style.visibility="hidden"},createProjectCont:function(){let e=document.createElement("div");e.classList.add("projectCont"),o.appendChild(e);let t=document.createElement("div");t.classList.add("nameCont",`${r.projectCounter-1}`),e.appendChild(t);let n=document.createElement("span");n.classList.add("indivProject"),n.textContent=l.allProjects[l.allProjects.length-1].name,t.appendChild(n);let s=document.createElement("div");s.classList.add("deleteCont");let c=document.createElement("button");c.classList.add("delete",`${r.projectCounter-1}`),c.textContent="X",s.appendChild(c),e.appendChild(s)},createTodoCont:function(){let e=document.createElement("div");e.classList.add("todoCont"),n.appendChild(e);let t=document.createElement("div");t.classList.add("todoNameCont",`${r.todoCounter-1}`),e.appendChild(t);let o=document.createElement("span");o.classList.add("indivTodo"),o.textContent=l.allProjects[l.lastProject].todos[l.allProjects[l.lastProject].todos.length-1].name,t.appendChild(o);let s=document.createElement("div");s.classList.add("deleteTodoCont");let c=document.createElement("button");c.classList.add("deleteTodo",`${r.todoCounter-1}`),c.textContent="X",s.appendChild(c),e.appendChild(s)},showProjectArea:function(){"hidden"==s.style.visibility?s.style.visibility="visible":s.style.visibility="hidden"},updateProjectArea:function(e){c.textContent=`${l.allProjects[l.lastProject].todos[e].name}`,a.textContent=`Due date:  ${l.allProjects[l.lastProject].todos[e].dueDate}`,i.textContent=`Priority:     ${l.allProjects[l.lastProject].todos[e].priority}`,d.value=l.allProjects[l.lastProject].todos[e].text},projectArea:s,projectTextBox:d,clearForm:function(){document.querySelector(".name").value="",document.querySelector(".todoName").value="",document.querySelector(".dueDate").value="",document.querySelector(".priority").value="!"},clearTodos:function(){for(;n.firstChild;)n.removeChild(n.firstChild);r.todoCounter=0},projectCounter:0,todoCounter:0,refreshPos:function(){let e=document.querySelectorAll(".nameCont"),t=document.querySelectorAll(".delete");for(let o=0;o<e.length;o++)e[o].classList.remove(e[o].classList.item(1)),e[o].classList.add(o),t[o].classList.remove(t[o].classList.item(1)),t[o].classList.add(o);r.projectCounter=e.length},refreshTodoPos:function(){let e=document.querySelectorAll(".todoNameCont"),t=document.querySelectorAll(".deleteTodo");for(let o=0;o<e.length;o++)e[o].classList.remove(e[o].classList.item(1)),e[o].classList.add(o),t[o].classList.remove(t[o].classList.item(1)),t[o].classList.add(o);r.todoCounter=e.length},showLeftBar:function(){"hidden"==v.style.visibility?(v.style.visibility="visible","absolute"==u.style.position?u.style.visibility="hidden":u.style.visibility="visible","visible"==h.style.visibility?(m.textContent="⯇",s.style.width="64%"):(m.textContent="⯇",s.style.width="82%")):(v.style.visibility="hidden",u.style.visibility="hidden","visible"==h.style.visibility?(m.textContent="⯈",s.style.width="82%"):(m.textContent="⯈",s.style.width="100%"))},showRightBar:function(){"hidden"==h.style.visibility?(h.style.visibility="visible","visible"==v.style.visibility?(y.textContent="⯈",s.style.width="64%",s.style.right="18%"):(y.textContent="⯈",s.style.width="82%",s.style.right="18%")):(h.style.visibility="hidden","visible"==v.style.visibility?(y.textContent="⯇",s.style.width="82%",s.style.right="0px"):(y.textContent="⯇",s.style.width="100%",s.style.right="0px"))},isLater:function(e){let t=new Date,o=String(t.getDate()).padStart(2,"0"),l=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear();return!(parseInt(e.slice(0,4))<parseInt(r))&&(parseInt(e.slice(0,4))!=parseInt(r)||!(parseInt(e.slice(5,7))<parseInt(l))&&(parseInt(e.slice(5,7))!=parseInt(l)||!(parseInt(e.slice(8,10))<parseInt(o))&&(parseInt(e.slice(8,10))>=parseInt(o)||void 0)))},rightBar:h}})();(()=>{var e,t,o,l,r,n,s;for(e=document.getElementsByClassName("custom-select"),t=0;t<e.length;t++){for(l=e[t].getElementsByTagName("select")[0],(r=document.createElement("DIV")).setAttribute("class","select-selected"),r.innerHTML=l.options[l.selectedIndex].innerHTML,e[t].appendChild(r),(n=document.createElement("DIV")).setAttribute("class","select-items select-hide"),o=0;o<l.length;o++)(s=document.createElement("DIV")).innerHTML=l.options[o].innerHTML,s.addEventListener("click",(function(e){var t,o,l,r,n;for(r=this.parentNode.parentNode.getElementsByTagName("select")[0],n=this.parentNode.previousSibling,o=0;o<r.length;o++)if(r.options[o].innerHTML==this.innerHTML){for(r.selectedIndex=o,n.innerHTML=this.innerHTML,t=this.parentNode.getElementsByClassName("same-as-selected"),l=0;l<t.length;l++)t[l].removeAttribute("class");this.setAttribute("class","same-as-selected");break}n.click()})),n.appendChild(s);e[t].appendChild(n),r.addEventListener("click",(function(e){e.stopPropagation(),c(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")}))}function c(e){var t,o,l,r=[];for(t=document.getElementsByClassName("select-items"),o=document.getElementsByClassName("select-selected"),l=0;l<o.length;l++)e==o[l]?r.push(l):o[l].classList.remove("select-arrow-active");for(l=0;l<t.length;l++)r.indexOf(l)&&t[l].classList.add("select-hide")}document.addEventListener("click",c)})();var n=r;const s=(()=>{const e=JSON.parse(localStorage.getItem("projects.allProjects")||"[]"),t=document.querySelector("#createProject"),o=document.querySelector("#cancelProject"),r=document.querySelector(".projectSubmit"),c=document.querySelector("#createTodo"),a=document.querySelector(".todoSubmit"),i=document.querySelector("#cancelTodo"),d=document.querySelector("#editBtn"),u=document.querySelector("#toggle"),m=document.querySelector("#toggleRight"),y=document.querySelector("#editProject");return{attachListeners:function(){u.addEventListener("click",()=>{n.showLeftBar()}),m.addEventListener("click",()=>{n.showRightBar()}),y.addEventListener("click",()=>{document.querySelector(".name").value=l.allProjects[l.lastProject].name,n.showProjectForm(),r.value="Edit"}),t.addEventListener("click",()=>{n.showProjectForm(),r.value="Create"}),c.addEventListener("click",()=>{n.showTodoForm(),a.value="Create"}),d.addEventListener("click",()=>{document.querySelector(".todoName").value=l.allProjects[l.lastProject].todos[l.lastTodo].name,document.querySelector(".dueDate").value=l.allProjects[l.lastProject].todos[l.lastTodo].dueDate,document.querySelector(".priority").value=l.allProjects[l.lastProject].todos[l.lastTodo].priority,n.showTodoForm(),a.value="Edit"}),o.addEventListener("click",(function(e){e.preventDefault(),n.clearForm(),n.showProjectForm()})),i.addEventListener("click",(function(e){e.preventDefault(),n.clearForm(),n.showTodoForm()})),a.addEventListener("click",(function(e){if(e.preventDefault(),"Create"==a.value)if(document.querySelector(".todoName").value.length<=0)alert("Please enter a name");else if(document.querySelector(".todoName").value.length>24)alert("Name can only be 24 characters long");else if(""==document.querySelector(".dueDate").value)alert("Please enter a due date");else if(0==n.isLater(document.querySelector(".dueDate").value))alert("Please enter a later date");else{let e=new l.createTodo;l.allProjects[l.lastProject].todos.push(e),localStorage.setItem("projects.allProjects",JSON.stringify(l.allProjects)),n.todoCounter++,n.createTodoCont(),s.attachTodo(),n.showTodoForm(),n.clearForm()}else document.querySelector(".todoName").value.length<=0?alert("Please enter a name"):document.querySelector(".todoName").value.length>24?alert("Name can only be 24 characters long"):""==document.querySelector(".dueDate").value?alert("Please enter a due date"):0==n.isLater(document.querySelector(".dueDate").value)?alert("Please enter a later date"):(l.allProjects[l.lastProject].todos[l.lastTodo].name=document.querySelector(".todoName").value,l.allProjects[l.lastProject].todos[l.lastTodo].dueDate=document.querySelector(".dueDate").value,l.allProjects[l.lastProject].todos[l.lastTodo].priority=document.querySelector(".priority").value,localStorage.setItem("projects.allProjects",JSON.stringify(l.allProjects)),document.querySelectorAll(".indivTodo")[l.lastTodo].textContent=document.querySelector(".todoName").value,n.updateProjectArea(l.lastTodo),n.showTodoForm(),n.clearForm())})),r.addEventListener("click",(function(e){if(e.preventDefault(),"Create"==r.value)if(document.querySelector(".name").value.length<=0)alert("Please enter a name");else if(document.querySelector(".name").value.length>24)alert("Name can only be 24 characters long");else{let e=new l.createProject;l.allProjects.push(e),localStorage.setItem("projects.allProjects",JSON.stringify(l.allProjects)),n.projectCounter++,n.createProjectCont(),s.attachProject(),n.showProjectForm(),n.clearForm()}else document.querySelector(".name").value.length<=0?alert("Please enter a name"):document.querySelector(".name").value.length>24?alert("Name can only be 24 characters long"):(l.allProjects[l.lastProject].name=document.querySelector(".name").value,localStorage.setItem("projects.allProjects",JSON.stringify(l.allProjects)),document.querySelectorAll(".indivProject")[l.lastProject].textContent=document.querySelector(".name").value,n.showProjectForm(),n.clearForm())})),n.projectTextBox.addEventListener("keypress",()=>{setTimeout((function(){l.allProjects[l.lastProject].todos[l.lastTodo].text=n.projectTextBox.value}),100)})},attachProject:function(){let e=document.querySelectorAll(".nameCont"),t=document.querySelectorAll(".delete");t[t.length-1].addEventListener("click",()=>{let e=parseInt(t[t.length-1].classList.item(1));l.allProjects.splice(e,1),localStorage.setItem("projects.allProjects",JSON.stringify(l.allProjects));let o=document.querySelector("#indivPCont");o.removeChild(o.children[e]),l.lastProject==e&&(n.projectArea.style.visibility="hidden",y.style.visibility="hidden",y.style.position="absolute"),n.refreshPos(),n.clearTodos()}),e[e.length-1].addEventListener("click",()=>{let t=parseInt(e[e.length-1].classList.item(1));"hidden"==m.style.visibility&&(m.style.visibility="visible"),"hidden"==y.style.visibility&&(y.style.visibility="visible",y.style.position="relative"),"hidden"==n.rightBar.style.visibility?(n.rightBar.style.visibility="visible",l.lastProject=t,s.loadTodos(t)):("visible"==n.projectArea.style.visibility&&(n.projectArea.style.visibility="hidden"),l.lastProject=t,n.clearTodos(),s.loadTodos(t))})},attachTodo:function(){let e=document.querySelectorAll(".todoNameCont"),t=document.querySelectorAll(".deleteTodo");t[t.length-1].addEventListener("click",()=>{let e=parseInt(t[t.length-1].classList.item(1));l.allProjects[l.lastProject].todos.splice(e,1),localStorage.setItem("projects.allProjects",JSON.stringify(l.allProjects));let o=document.querySelector("#indivTodoCont");o.removeChild(o.children[e]),l.lastTodo==e&&n.showProjectArea(),n.refreshTodoPos()}),e[e.length-1].addEventListener("click",()=>{let t=parseInt(e[e.length-1].classList.item(1));l.lastTodo=t,"hidden"==n.projectArea.style.visibility&&(n.projectArea.style.visibility="visible",n.updateProjectArea(t)),n.updateProjectArea(t)})},loadTodos:function(e){for(let t=0;t<l.allProjects[e].todos.length;t++){n.todoCounter++,n.createTodoCont(),s.attachTodo(),document.querySelectorAll(".indivTodo")[t].textContent=l.allProjects[e].todos[t].name}},loadLocalStorage:function(){window.addEventListener("load",()=>{l.allProjects=[],e.forEach(e=>{l.allProjects.push(e)}),function(){for(let e=0;e<l.allProjects.length;e++){n.projectCounter++,n.createProjectCont(),s.attachProject(),document.querySelectorAll(".indivProject")[e].textContent=l.allProjects[e].name}}()})}}})();s.loadLocalStorage(),s.attachListeners()}]);